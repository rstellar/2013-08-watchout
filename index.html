<html>
<head>
  <title>D3 Watchout!</title>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<style type="text/css" src ="style.css"></style>
</head>
<body>


<!-- <svg width="700" height="450"></svg>
 -->
<script>



var gameBoard = d3.select('body').append('svg:svg')
  .attr("width",700)
  .attr("height", 450);

var enemies = [{x:0, y:0},{x:0, y:0},{x:0, y:0},{x:0, y:0},{x:0, y:0},{x:0, y:0},{x:0, y:0},{x:0, y:0},{x:0, y:0},{x:0, y:0},{x:0, y:0},{x:0, y:0},{x:0, y:0},{x:0, y:0},{x:0, y:0},{x:0, y:0}];


coordinates = function (ops) {
  return this.attr("cx",function(d){return d.x;}).attr("cy",function(d){return d.y;}); 
}

colorMe = function(color) {
  var c = color;
  return function () { this.style("fill",c)};
}

var randomizer = function(array){
  for (var i = 0; i < array.length; i++) {
    array[i].x = Math.random()*700;
    array[i].y = Math.random()*450;
  };
  return array;
};

var updateEnemy = function(){
  gameBoard
  .selectAll("circle.enemy")
  .data(randomizer(enemies))
  .enter()
  .append("circle")
  .attr("class","enemy")
  .call(colorMe("steelblue"))
  .call(coordinates);

  gameBoard
    .selectAll("circle.enemy")
    .data(randomizer(enemies))
    .transition()
    .duration(500)
    .attr("r",10)
    .call(coordinates);
}

var Hero = function(){

  gameBoard
  .selectAll("circle.hero")
  .data([{x:350, y:225}])
  .enter()
  .append("circle")
  .attr("class","hero")
  .call(colorMe("orange"))
  .attr("r",11)
  .call(coordinates)
  .drag.on("click");

  console.log("...where is the hero?")
}

Hero();
setInterval(function(){updateEnemy();}, 500);


</script>

</body>

</html>
